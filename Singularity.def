BootStrap: docker
From: continuumio/miniconda3
Stage: build

%setup
    #touch ${SINGULARITY_ROOTFS}/file2

%files
    ./environment.yml
    ./de-simple/* ./

%environment
    #export LISTEN_PORT=12345
    #export LC_ALL=C

%post
    /opt/conda/bin/conda env create -f environment.yml
    /opt/miniconda/bin/activate tkgc

%runscript
    echo "Contents:"
    ls
    echo "--- Start run ---"
    #exec python main.py -dropout 0.4 -se_prop 0.68 -model DE_TransE -ne 4 -neg_ratio 2 -save_each 2
    echo "executing $@"
    exec "$@"

%test
    echo "Test script"

%labels
    Author jwli21@student.aau.dk
    Version v0.0.2